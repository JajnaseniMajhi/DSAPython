class Solution:
    # @param A : list of integers
    # @return an integer
    def solve(self, A):
        return self.merge_sort(A, 0, len(A)-1) % (10**9 +7)
    
    def merge_sort(self, A, s, e):
        # return inversion count of array A
        if s >= e:
            return 0
        mid = (s + e) // 2
        left = self.merge_sort(A, s, mid) % (10**9 +7)
        right = self.merge_sort(A, mid+1, e) % (10**9 +7)
        return (left + right + self.merge(A, s, mid, e)) % (10**9 +7)

    def merge(self, A, left, mid, right):
        # merge two sorted arrays
        temp = []
        i, j = left, mid+1
        count = 0
        while i <= mid and j <= right:
            if A[i] <= A[j]:
                temp.append(A[i])
                i += 1
            else:
                temp.append(A[j])
                j += 1
                count += mid - i + 1 # +1 because mid is inclusive, A[i] > A[j]
        while i <= mid:
            temp.append(A[i])
            i += 1
        while j <= right:
            temp.append(A[j])
            j += 1
        for i in range(left, right+1):
            A[i] = temp[i-left]


        return count % (10**9 +7)


obj= Solution()
print(obj.solve([ 3516, 3721, 1775, 4282, 3533, 1228, 636, 1074, 2567, 3399, 3679, 2688, 1646, 3172, 4359, 1233, 3629, 2150, 2290, 2627, 1959, 1650, 4694, 4399, 4444, 526, 2944, 3720, 3509, 440, 4791, 929, 1330, 4579, 3743, 2615, 358, 1412, 448, 1766, 1427, 1219, 2265, 2965, 2770, 941, 518, 91, 533, 4171, 694, 3924, 1918, 1575, 4679, 4236, 2655, 408, 975, 2704, 4488, 3943, 278, 2132, 1314, 1994, 4749, 3786, 227, 3423, 740, 734, 4990, 3284, 2570, 1474, 3933, 3730, 4557, 4848, 3275, 2942, 3076, 2658, 2498, 1848, 1699, 3781, 4026, 1830, 3368, 2758, 2575, 4140, 875, 4511, 3588, 2165, 2687, 3601, 899, 3738, 1443, 4604, 71, 3251, 109, 1899, 3603, 3368, 2299, 4278, 2132, 1465, 188, 4866, 2173, 2813, 1068, 1945, 424, 3767, 207, 1146, 3350, 591, 517, 4641, 3887, 4409, 3886, 2123, 2120, 1466, 4811, 3445, 4422, 2542, 3587, 2634, 4581, 4026, 4982, 65, 508, 2080, 2520, 656, 757, 2774, 1762, 4328, 4674, 356, 3473, 994, 555, 4325, 3203, 4986, 4951, 3388, 3072, 2724, 4583, 4870, 360, 1899, 1185, 3400, 1741, 1821, 3654, 1474, 3134, 3115, 3374, 206, 1635, 2147, 2681, 1135, 201, 2843, 4714, 1343, 3498, 3818, 4878, 3509, 2502, 2570, 3301, 4735, 282, 3086, 1878, 94, 4259, 1502 ]
))
